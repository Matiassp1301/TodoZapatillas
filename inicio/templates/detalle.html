{% load static %}
{% load humanize %}
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>{{ producto.nombre }}</title>
    <link rel="stylesheet" href="{% static 'css/styleNav.css' %}" />
  <link rel="stylesheet" href="{% static 'css/styleCatalogo.css' %}">
</head>
<body>
  <header>
    <a href="#" class="logo">TodoZapatillas</a>

    <button class="menu-toggle" aria-label="Abrir men√∫" id="menuToggleBtn">‚ò∞</button>

    <nav class="menu-principal" id="menuPrincipal">
      <div class="menu-links">
        <a href="/">Inicio</a>
        <div class="menu-con-submenu">
          <a href="#" class="submenu-toggle">Productos ‚ñæ</a>
          <div class="submenu">
            <a href="#">Zapatillas</a>
            <a href="#">Chalas</a>
          </div>
        </div>
        <div class="menu-con-submenu">
          <a href="#" class="submenu-toggle">Ofertas ‚ñæ</a>
          <div class="submenu">
            <a href="#">Rebajas</a>
            <a href="#">Promociones</a>
          </div>
        </div>
        <a href="#">Soporte</a>
      </div>

      <form id="buscador" action="#" method="GET" class="buscador">
        <input type="text" name="query" placeholder="Buscar productos..." aria-label="Buscar productos" />
        <button type="submit">üîç</button>
      </form>

      <div class="user-cart">
        <a href="/cart/" class="carrito" aria-label="Ver carrito">
          üõí <span id="contador-carrito" class="cart-count">0</span>
        </a>
        <div id="user-area">
          <a href="#" id="login-link">Iniciar Sesi√≥n</a>
        </div>
        <div id="welcome-area" style="display:none;">
          <span id="welcome-msg"></span>
          <button id="logout-btn">Cerrar Sesi√≥n</button>
        </div>
      </div>
    </nav>
</header>

    <main class="detalle-container">
        <div class="detalle-imagen-container">
            <img class="detalle-imagen" src="{{ producto.url_imagen }}" alt="{{ producto.nombre }}">
        </div>
        <div class="detalle-info">
    <h1>{{ producto.nombre }}</h1>
    <p class="price">Precio: ${{ producto.precio|floatformat:0|intcomma|cut:".0" }}</p>
    <div class="detalle-descripcion">
        <p>{{ producto.descripcion }}</p>
    </div>
    <div class="detalle-tallas">
        <p><strong>Tallas disponibles:</strong></p>
        {% if tallas %}
            <div class="tallas-grid">
                {% for talla in tallas %}
                    <input type="radio" id="talla-{{ forloop.counter0 }}" name="talla" value="{{ talla|floatformat:0 }}" class="talla-radio" {% if forloop.first %}checked{% endif %}><label for="talla-{{ forloop.counter0 }}" class="talla-label">{{ talla|floatformat:0 }}</label>
                {% endfor %}
            </div>
        {% else %}
            <p>No hay tallas disponibles.</p>
        {% endif %}
    </div>
    <div class="detalle-colores">
        <p><strong>Color seleccionado:</strong> <span id="nombre-color">{{ colores_css.0.0|title }}</span></p>
        {% if colores_css %}
            <div class="colores-grid">
                {% for color, colorcss in colores_css %}
                    <input type="radio" id="color-{{ forloop.counter0 }}" name="color" value="{{ color }}" class="color-radio" {% if forloop.first %}checked{% endif %}>
                    <label for="color-{{ forloop.counter0 }}" class="color-label" style="background: {{ colorcss }};" title="{{ color }}"></label>
                {% endfor %}
            </div>
        {% else %}
            <p>No hay colores disponibles.</p>
        {% endif %}
    </div>
</div>
    </main>
  <script src="{% static 'js/navFuncion.js' %}"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
        const radios = document.querySelectorAll('input[name="color"]');
        const nombreColor = document.getElementById('nombre-color');
        radios.forEach(radio => {
            radio.addEventListener('change', function() {
                nombreColor.textContent = this.value.charAt(0).toUpperCase() + this.value.slice(1);
            });
        });
    });
  </script>
</body>
</html>